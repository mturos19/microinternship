---
title: "Test"
format:
    html:
        code-fold: true
jupyter: python3
---


```{python}
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
df = pd.read_csv('gdp_csv.csv')


countries_list=['United Kingdom', 'Italy', 'France', 'Germany']


import plotly.express as px

df_map=df 
def map_gdp():
    fig = px.choropleth(df_map, locations="Country Name",
                        color="Value", 
                        locationmode='country names',
                        color_continuous_scale=px.colors.sequential.Plasma,
                        animation_frame="Year",
                        title="GDP Map",
                        range_color=(0, 3.5E12))
    fig.show()
map_gdp()


import plotly.graph_objects as go

def plot_gdp_interactive(countries):
    filtered_df = df[df['Country Name'].isin(countries)]
    fig = go.Figure()

    for country in filtered_df['Country Name'].unique():
        country_df = filtered_df[filtered_df['Country Name'] == country]
        fig.add_trace(go.Scatter(
            x=country_df['Year'],
            y=country_df['Value'],
            mode='lines',
            name=country
        ))

    fig.update_layout(
        xaxis=dict(title='Year'),
        yaxis=dict(title='GDP'),
        title='GDP Comparison',
        showlegend=True
    )
    fig.show()
plot_gdp_interactive(countries_list)

def barchart_interactive(countries):
    filtered_df = df[df['Country Name'].isin(countries)]
    for country in filtered_df['Country Name'].unique():
        fig = px.bar(
        data_frame = filtered_df,
        x='Country Name',
        y='Value',
        color='Year',  # Use GDP values for color coding
        color_continuous_scale="Viridis",  # Choose a color scale (you can change this to any other valid scale)
        labels={"x": "Countries", "y": "GDP"},
        title="GDP of Five Countries",  # Show GDP values on the bars
        )
        
    fig.show()
barchart_interactive(countries_list)

```